import{r as s,c as De,j as G,a as T}from"./index-67ec5936.js";import{V as F,b as ve,u as Me,_ as we,c as $e,O as Pe,d as Ee,e as ke,f as Q,B as Le,M as xe,F as se,g as le,T as ce,h as Be,E as Se,j as Y,k as He,l as Ge,C as Ie,a as Ne}from"./Preload-18fdd59f.js";import{O as Ze}from"./Computers-68afde6a.js";import{m as Ue}from"./react-merge-refs.esm-239dbb3c.js";import{S as _e}from"./SectionWrapper-e8e978f3.js";import{a as Xe}from"./index-37e6b440.js";import"./styles-bea25d13.js";import"./motion-048ec3cb.js";const _=new F,ue=new F,qe=new F;function Je(e,r,n){const l=_.setFromMatrixPosition(e.matrixWorld);l.project(r);const i=n.width/2,h=n.height/2;return[l.x*i+i,-(l.y*h)+h]}function Ke(e,r){const n=_.setFromMatrixPosition(e.matrixWorld),l=ue.setFromMatrixPosition(r.matrixWorld),i=n.sub(l),h=r.getWorldDirection(qe);return i.angleTo(h)>Math.PI/2}function Qe(e,r,n,l){const i=_.setFromMatrixPosition(e.matrixWorld),h=i.clone();h.project(r),n.setFromCamera(h,r);const g=n.intersectObjects(l,!0);if(g.length){const b=g[0].distance;return i.distanceTo(n.ray.origin)<b}return!0}function Ye(e,r){if(r instanceof Pe)return r.zoom;if(r instanceof Ee){const n=_.setFromMatrixPosition(e.matrixWorld),l=ue.setFromMatrixPosition(r.matrixWorld),i=r.fov*Math.PI/180,h=n.distanceTo(l);return 1/(2*Math.tan(i/2)*h)}else return 1}function Ve(e,r,n){if(r instanceof Ee||r instanceof Pe){const l=_.setFromMatrixPosition(e.matrixWorld),i=ue.setFromMatrixPosition(r.matrixWorld),h=l.distanceTo(i),g=(n[1]-n[0])/(r.far-r.near),b=n[1]-g*r.far;return Math.round(g*h+b)}}const ae=e=>Math.abs(e)<1e-10?0:e;function je(e,r,n=""){let l="matrix3d(";for(let i=0;i!==16;i++)l+=ae(r[i]*e.elements[i])+(i!==15?",":")");return n+l}const et=(e=>r=>je(r,e))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),tt=(e=>(r,n)=>je(r,e(n),"translate(-50%,-50%)"))(e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1]);function rt(e){return e&&typeof e=="object"&&"current"in e}const ot=s.forwardRef(({children:e,eps:r=.001,style:n,className:l,prepend:i,center:h,fullscreen:g,portal:b,distanceFactor:M,sprite:E=!1,transform:x=!1,occlude:f,onOcclude:R,castShadow:w,receiveShadow:j,material:t,geometry:o,zIndexRange:a=[16777271,0],calculatePosition:d=Je,as:c="div",wrapperClass:O,pointerEvents:P="auto",...m},I)=>{const{gl:y,camera:u,scene:S,size:v,raycaster:V,events:ee,viewport:te}=ve(),[W]=s.useState(()=>document.createElement(c)),re=s.useRef(),C=s.useRef(null),me=s.useRef(0),X=s.useRef([0,0]),N=s.useRef(null),oe=s.useRef(null),B=(b==null?void 0:b.current)||ee.connected||y.domElement.parentNode,D=s.useRef(null),q=s.useRef(!1),J=s.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&rt(f[0]),[f]);s.useLayoutEffect(()=>{const A=y.domElement;f&&f==="blending"?(A.style.zIndex=`${Math.floor(a[0]/2)}`,A.style.position="absolute",A.style.pointerEvents="none"):(A.style.zIndex=null,A.style.position=null,A.style.pointerEvents=null)},[f]),s.useLayoutEffect(()=>{if(C.current){const A=re.current=De(W);if(S.updateMatrixWorld(),x)W.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const p=d(C.current,u,v);W.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${p[0]}px,${p[1]}px,0);transform-origin:0 0;`}return B&&(i?B.prepend(W):B.appendChild(W)),()=>{B&&B.removeChild(W),A.unmount()}}},[B,x]),s.useLayoutEffect(()=>{O&&(W.className=O)},[O]);const de=s.useMemo(()=>x?{position:"absolute",top:0,left:0,width:v.width,height:v.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:h?"translate3d(-50%,-50%,0)":"none",...g&&{top:-v.height/2,left:-v.width/2,width:v.width,height:v.height},...n},[n,h,g,v,x]),Oe=s.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);s.useLayoutEffect(()=>{if(q.current=!1,x){var A;(A=re.current)==null||A.render(s.createElement("div",{ref:N,style:de},s.createElement("div",{ref:oe,style:Oe},s.createElement("div",{ref:I,className:l,style:n,children:e}))))}else{var p;(p=re.current)==null||p.render(s.createElement("div",{ref:I,style:de,className:l,children:e}))}});const H=s.useRef(!0);Me(A=>{if(C.current){u.updateMatrixWorld(),C.current.updateWorldMatrix(!0,!1);const p=x?X.current:d(C.current,u,v);if(x||Math.abs(me.current-u.zoom)>r||Math.abs(X.current[0]-p[0])>r||Math.abs(X.current[1]-p[1])>r){const $=Ke(C.current,u);let z=!1;J&&(f!=="blending"?z=[S]:Array.isArray(f)&&(z=f.map(k=>k.current)));const Z=H.current;if(z){const k=Qe(C.current,u,V,z);H.current=k&&!$}else H.current=!$;Z!==H.current&&(R?R(!H.current):W.style.display=H.current?"block":"none");const K=Math.floor(a[0]/2),We=f?J?[a[0],K]:[K-1,0]:a;if(W.style.zIndex=`${Ve(C.current,u,We)}`,x){const[k,pe]=[v.width/2,v.height/2],ne=u.projectionMatrix.elements[5]*pe,{isOrthographicCamera:ye,top:Ae,left:Te,bottom:Re,right:Ce}=u,Fe=et(u.matrixWorldInverse),ze=ye?`scale(${ne})translate(${ae(-(Ce+Te)/2)}px,${ae((Ae+Re)/2)}px)`:`translateZ(${ne}px)`;let L=C.current.matrixWorld;E&&(L=u.matrixWorldInverse.clone().transpose().copyPosition(L).scale(C.current.scale),L.elements[3]=L.elements[7]=L.elements[11]=0,L.elements[15]=1),W.style.width=v.width+"px",W.style.height=v.height+"px",W.style.perspective=ye?"":`${ne}px`,N.current&&oe.current&&(N.current.style.transform=`${ze}${Fe}translate(${k}px,${pe}px)`,oe.current.style.transform=tt(L,1/((M||10)/400)))}else{const k=M===void 0?1:Ye(C.current,u)*M;W.style.transform=`translate3d(${p[0]}px,${p[1]}px,0) scale(${k})`}X.current=p,me.current=u.zoom}}if(!J&&D.current&&!q.current)if(x){if(N.current){const p=N.current.children[0];if(p!=null&&p.clientWidth&&p!=null&&p.clientHeight){const{isOrthographicCamera:$}=u;if($||o)m.scale&&(Array.isArray(m.scale)?m.scale instanceof F?D.current.scale.copy(m.scale.clone().divideScalar(1)):D.current.scale.set(1/m.scale[0],1/m.scale[1],1/m.scale[2]):D.current.scale.setScalar(1/m.scale));else{const z=(M||10)/400,Z=p.clientWidth*z,K=p.clientHeight*z;D.current.scale.set(Z,K,1)}q.current=!0}}}else{const p=W.children[0];if(p!=null&&p.clientWidth&&p!=null&&p.clientHeight){const $=1/te.factor,z=p.clientWidth*$,Z=p.clientHeight*$;D.current.scale.set(z,Z,1),q.current=!0}D.current.lookAt(A.camera.position)}});const he=s.useMemo(()=>({vertexShader:x?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[x]);return s.createElement("group",we({},m,{ref:C}),f&&!J&&s.createElement("mesh",{castShadow:w,receiveShadow:j,ref:D},o||s.createElement("planeGeometry",null),t||s.createElement("shaderMaterial",{side:$e,vertexShader:he.vertexShader,fragmentShader:he.fragmentShader})))});let U=0;const nt=ke(e=>(Q.onStart=(r,n,l)=>{e({active:!0,item:r,loaded:n,total:l,progress:(n-U)/(l-U)*100})},Q.onLoad=()=>{e({active:!1})},Q.onError=r=>e(n=>({errors:[...n.errors,r]})),Q.onProgress=(r,n,l)=>{n===l&&(U=l),e({active:!0,item:r,loaded:n,total:l,progress:(n-U)/(l-U)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));class st extends Le{constructor(r,n,l,i){super();const h=[],g=[],b=[],M=new F,E=new xe;E.makeRotationFromEuler(l),E.setPosition(n);const x=new xe;x.copy(E).invert(),f(),this.setAttribute("position",new se(h,3)),this.setAttribute("normal",new se(g,3)),this.setAttribute("uv",new se(b,2));function f(){let t,o=[];const a=new F,d=new F;if(r.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const c=r.geometry,O=c.attributes.position,P=c.attributes.normal;if(c.index!==null){const m=c.index;for(t=0;t<m.count;t++)a.fromBufferAttribute(O,m.getX(t)),d.fromBufferAttribute(P,m.getX(t)),R(o,a,d)}else for(t=0;t<O.count;t++)a.fromBufferAttribute(O,t),d.fromBufferAttribute(P,t),R(o,a,d);for(o=w(o,M.set(1,0,0)),o=w(o,M.set(-1,0,0)),o=w(o,M.set(0,1,0)),o=w(o,M.set(0,-1,0)),o=w(o,M.set(0,0,1)),o=w(o,M.set(0,0,-1)),t=0;t<o.length;t++){const m=o[t];b.push(.5+m.position.x/i.x,.5+m.position.y/i.y),m.position.applyMatrix4(E),h.push(m.position.x,m.position.y,m.position.z),g.push(m.normal.x,m.normal.y,m.normal.z)}}function R(t,o,a){o.applyMatrix4(r.matrixWorld),o.applyMatrix4(x),a.transformDirection(r.matrixWorld),t.push(new ge(o.clone(),a.clone()))}function w(t,o){const a=[],d=.5*Math.abs(i.dot(o));for(let c=0;c<t.length;c+=3){let O,P,m,I=0,y,u,S,v;const V=t[c+0].position.dot(o)-d,ee=t[c+1].position.dot(o)-d,te=t[c+2].position.dot(o)-d;switch(O=V>0,P=ee>0,m=te>0,I=(O?1:0)+(P?1:0)+(m?1:0),I){case 0:{a.push(t[c]),a.push(t[c+1]),a.push(t[c+2]);break}case 1:{if(O&&(y=t[c+1],u=t[c+2],S=j(t[c],y,o,d),v=j(t[c],u,o,d)),P){y=t[c],u=t[c+2],S=j(t[c+1],y,o,d),v=j(t[c+1],u,o,d),a.push(S),a.push(u.clone()),a.push(y.clone()),a.push(u.clone()),a.push(S.clone()),a.push(v);break}m&&(y=t[c],u=t[c+1],S=j(t[c+2],y,o,d),v=j(t[c+2],u,o,d)),a.push(y.clone()),a.push(u.clone()),a.push(S),a.push(v),a.push(S.clone()),a.push(u.clone());break}case 2:{O||(y=t[c].clone(),u=j(y,t[c+1],o,d),S=j(y,t[c+2],o,d),a.push(y),a.push(u),a.push(S)),P||(y=t[c+1].clone(),u=j(y,t[c+2],o,d),S=j(y,t[c],o,d),a.push(y),a.push(u),a.push(S)),m||(y=t[c+2].clone(),u=j(y,t[c],o,d),S=j(y,t[c+1],o,d),a.push(y),a.push(u),a.push(S));break}}}return a}function j(t,o,a,d){const c=t.position.dot(a)-d,O=o.position.dot(a)-d,P=c/(c-O);return new ge(new F(t.position.x+P*(o.position.x-t.position.x),t.position.y+P*(o.position.y-t.position.y),t.position.z+P*(o.position.z-t.position.z)),new F(t.normal.x+P*(o.normal.x-t.normal.x),t.normal.y+P*(o.normal.y-t.normal.y),t.normal.z+P*(o.normal.z-t.normal.z)))}}}class ge{constructor(r,n){this.position=r,this.normal=n}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const be=e=>e===Object(e)&&!Array.isArray(e)&&typeof e!="function";function fe(e,r){const n=ve(i=>i.gl),l=le(ce,be(e)?Object.values(e):e);if(s.useLayoutEffect(()=>{r==null||r(l)},[r]),s.useEffect(()=>{(Array.isArray(l)?l:[l]).forEach(n.initTexture)},[n,l]),be(e)){const i=Object.keys(e),h={};return i.forEach(g=>Object.assign(h,{[g]:l[i.indexOf(g)]})),h}else return l}fe.preload=e=>le.preload(ce,e);fe.clear=e=>le.clear(ce,e);function it(e){return Array.isArray(e)}function ie(e=[0,0,0]){return it(e)?e:e instanceof F||e instanceof Se?[e.x,e.y,e.z]:[e,e,e]}function at({debug:e,mesh:r,children:n,position:l,rotation:i,scale:h,...g}){const b=s.useRef(null),M=s.useRef(null);return s.useLayoutEffect(()=>{const E=(r==null?void 0:r.current)||b.current.parent,x=b.current;if(!(E instanceof Be))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const f={position:new F,rotation:new Se,scale:new F(1,1,1)};if(E){Y(f,{position:l,scale:h});const R=E.matrixWorld.clone();if(E.matrixWorld.identity(),!i||typeof i=="number"){const w=new He;w.position.copy(f.position),w.lookAt(E.position),typeof i=="number"&&w.rotateZ(i),Y(f,{rotation:w.rotation})}else Y(f,{rotation:i});return x.geometry=new st(E,f.position,f.rotation,f.scale),M.current&&Y(M.current,f),E.matrixWorld=R,()=>{x.geometry.dispose()}}},[r,...ie(l),...ie(h),...ie(i)]),s.createElement("mesh",{ref:b},n||s.createElement("meshStandardMaterial",we({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},g)),e&&s.createElement("mesh",{ref:M},s.createElement("boxGeometry",null),s.createElement("meshNormalMaterial",{wireframe:!0}),s.createElement("axesHelper",null)))}const lt=s.forwardRef(({children:e,speed:r=1,rotationIntensity:n=1,floatIntensity:l=1,floatingRange:i=[-.1,.1],...h},g)=>{const b=s.useRef(null),M=s.useRef(Math.random()*1e4);return Me(E=>{var x,f;const R=M.current+E.clock.getElapsedTime();b.current.rotation.x=Math.cos(R/4*r)/8*n,b.current.rotation.y=Math.sin(R/4*r)/8*n,b.current.rotation.z=Math.sin(R/4*r)/20*n;let w=Math.sin(R/4*r)/10;w=Ge.mapLinear(w,-.1,.1,(x=i==null?void 0:i[0])!==null&&x!==void 0?x:-.1,(f=i==null?void 0:i[1])!==null&&f!==void 0?f:.1),b.current.position.y=w*l}),s.createElement("group",h,s.createElement("group",{ref:Ue([b,g])},e))}),ct=()=>{const{progress:e}=nt();return G(ot,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[T("span",{className:"canvas-loader"}),G("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:700,marginLeft:500},children:[e.toFixed(2),"%"]})]})},ut=e=>{const[r]=fe([e.imgUrl]);return G(lt,{speed:2.75,rotationIntensity:1,floatIntensity:2,children:[T("ambientLight",{intensity:.25}),T("directionalLight",{position:[0,1,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[T("sphereGeometry",{args:[1,32,16]}),T("meshStandardMaterial",{color:"#ff8800",polygonOffset:!0,polygonOffsetFactor:-5}),T(at,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],map:r})]})]})},ft=({icon:e})=>G(Ie,{frameloop:"always",dpr:[1,2],gl:{preserveDrawingBuffer:!0},className:"mt-10",children:[G(s.Suspense,{fallback:T(ct,{}),children:[T(Ze,{enableZoom:!1}),T(ut,{imgUrl:e})]}),T(Ne,{all:!0})]}),mt=()=>T("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:Xe.map(e=>T("div",{className:"w-28 h-28",children:T(ft,{icon:e.icon})},e.name))}),Mt=_e(mt,"");export{Mt as default};
